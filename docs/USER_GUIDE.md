# Logistics ERP - User Guide (ì‚¬ìš©ì ê°€ì´ë“œ)

## ëª©ì°¨
1. [ì‹œìŠ¤í…œ ê°œìš”](#1-ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì‹œìŠ¤í…œ ì‹œì‘í•˜ê¸°](#2-ì‹œìŠ¤í…œ-ì‹œì‘í•˜ê¸°)
3. [ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬](#3-ë°ì´í„°ë² ì´ìŠ¤-ê´€ë¦¬)
4. [ëª¨ë°”ì¼ ì•± ì‚¬ìš©ë²•](#4-ëª¨ë°”ì¼-ì•±-ì‚¬ìš©ë²•)
5. [ì›¹ ì•± ì‚¬ìš©ë²•](#5-ì›¹-ì•±-ì‚¬ìš©ë²•)
6. [API ì—”ë“œí¬ì¸íŠ¸](#6-api-ì—”ë“œí¬ì¸íŠ¸)
7. [ë¬¸ì œ í•´ê²°](#7-ë¬¸ì œ-í•´ê²°)

---

## 1. ì‹œìŠ¤í…œ ê°œìš”

### ì•„í‚¤í…ì²˜
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Mobile App    â”‚     â”‚    Web App      â”‚     â”‚   PostgreSQL    â”‚
â”‚  (Ionic/Angular)â”‚     â”‚   (Angular)     â”‚     â”‚    Database     â”‚
â”‚   Port: 4200    â”‚     â”‚   Port: 4300    â”‚     â”‚   Port: 5432    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
                     â–¼                                   â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
              â”‚    NestJS API   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚   Port: 3000    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê¸°ìˆ  ìŠ¤íƒ
- **Backend**: NestJS 11 + Prisma 6 + PostgreSQL 15
- **Frontend**: Angular 19 + Ionic 8
- **Mobile**: Capacitor 6
- **Cache**: Redis 7

---

## 2. ì‹œìŠ¤í…œ ì‹œì‘í•˜ê¸°

### 2.1 ì‚¬ì „ ìš”êµ¬ì‚¬í•­
```bash
# Node.js ë²„ì „ í™•ì¸ (v20 ì´ìƒ í•„ìš”)
node --version

# pnpm ì„¤ì¹˜ (ì—†ëŠ” ê²½ìš°)
npm install -g pnpm

# Docker ì„¤ì¹˜ í™•ì¸
docker --version
```

### 2.2 í™˜ê²½ ì„¤ì •
```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /Users/solution/Documents/ERP

# Node.js ë²„ì „ ì„¤ì •
nvm use

# ì˜ì¡´ì„± ì„¤ì¹˜
pnpm install
```

### 2.3 Docker ì„œë¹„ìŠ¤ ì‹œì‘ (PostgreSQL + Redis)
```bash
# Docker ì»¨í…Œì´ë„ˆ ì‹œì‘
docker compose up -d

# ìƒíƒœ í™•ì¸
docker compose ps

# ì˜ˆìƒ ì¶œë ¥:
# NAME                COMMAND                  STATUS
# erp-postgres        "docker-entrypoint.sâ€¦"   Up
# erp-redis           "docker-entrypoint.sâ€¦"   Up
```

### 2.4 ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
```bash
# Prisma í´ë¼ì´ì–¸íŠ¸ ìƒì„±
pnpm db:generate

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
pnpm db:migrate

# (ì„ íƒ) ì‹œë“œ ë°ì´í„° ì¶”ê°€
pnpm db:seed
```

### 2.5 ê° ì„œë¹„ìŠ¤ ì‹œì‘

#### API ì„œë²„ (Port 3000)
```bash
pnpm api:dev

# í™•ì¸: http://localhost:3000/api/health
```

#### ëª¨ë°”ì¼ ì•± (Port 4200)
```bash
pnpm mobile:dev

# ì ‘ì†: http://localhost:4200
```

#### ì›¹ ì•± (Port 4300)
```bash
pnpm web:dev

# ì ‘ì†: http://localhost:4300
```

### 2.6 í•œ ë²ˆì— ëª¨ë“  ì„œë¹„ìŠ¤ ì‹œì‘
```bash
# í„°ë¯¸ë„ 1: Docker + API
docker compose up -d && pnpm api:dev

# í„°ë¯¸ë„ 2: ëª¨ë°”ì¼ ì•±
pnpm mobile:dev

# í„°ë¯¸ë„ 3: ì›¹ ì•± (í•„ìš”ì‹œ)
pnpm web:dev
```

---

## 3. ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬

### 3.1 ë°ì´í„°ë² ì´ìŠ¤ ì ‘ì† ì •ë³´
```
Host: localhost
Port: 5432
Database: logistics_erp
Username: postgres
Password: postgres
```

### 3.2 Prisma Studio (GUI ë„êµ¬)
```bash
# Prisma Studio ì‹¤í–‰
pnpm db:studio

# ë¸Œë¼ìš°ì €ì—ì„œ ì—´ë¦¼: http://localhost:5555
```

**Prisma Studio ê¸°ëŠ¥:**
- ëª¨ë“  í…Œì´ë¸” ì¡°íšŒ/í¸ì§‘
- ë°ì´í„° í•„í„°ë§ ë° ê²€ìƒ‰
- ê´€ê³„ ë°ì´í„° íƒìƒ‰
- ë ˆì½”ë“œ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ

### 3.3 CLIë¡œ ë°ì´í„°ë² ì´ìŠ¤ ì ‘ì†
```bash
# Docker ì»¨í…Œì´ë„ˆ ë‚´ psql ì ‘ì†
docker exec -it erp-postgres psql -U postgres -d logistics_erp

# ìì£¼ ì‚¬ìš©í•˜ëŠ” SQL ëª…ë ¹ì–´
\dt                    # ëª¨ë“  í…Œì´ë¸” ëª©ë¡
\d "Order"             # Order í…Œì´ë¸” êµ¬ì¡°
SELECT * FROM "User";  # ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ
SELECT * FROM "Order" LIMIT 10;  # ì£¼ë¬¸ 10ê±´ ì¡°íšŒ
\q                     # ì¢…ë£Œ
```

### 3.4 ì£¼ìš” í…Œì´ë¸” êµ¬ì¡°

| í…Œì´ë¸” | ì„¤ëª… |
|--------|------|
| User | ì‚¬ìš©ì (ê´€ë¦¬ì, ì„¤ì¹˜ê¸°ì‚¬) |
| Branch | ì§€ì  ì •ë³´ |
| Order | ì£¼ë¬¸ (ìƒíƒœ ê´€ë¦¬ í¬í•¨) |
| OrderLine | ì£¼ë¬¸ ìƒì„¸ (ì œí’ˆë³„) |
| Notification | ì•Œë¦¼ |
| NotificationPreference | ì•Œë¦¼ ì„¤ì • |
| Settlement | ì •ì‚° |
| AuditLog | ê°ì‚¬ ë¡œê·¸ |

### 3.5 ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…/ë³µì›
```bash
# ë°±ì—…
docker exec erp-postgres pg_dump -U postgres logistics_erp > backup.sql

# ë³µì›
docker exec -i erp-postgres psql -U postgres logistics_erp < backup.sql
```

---

## 4. ëª¨ë°”ì¼ ì•± ì‚¬ìš©ë²•

### 4.1 ì ‘ì† ì •ë³´
- **URL**: http://localhost:4200
- **í…ŒìŠ¤íŠ¸ ê³„ì •**:
  - ê´€ë¦¬ì: `admin` / `admin123!`
  - ì§€ì ê´€ë¦¬ì: `manager01` / `manager123!`
  - ì„¤ì¹˜ê¸°ì‚¬: `installer01` / `inst123!`

### 4.2 ë©”ì¸ íƒ­ êµ¬ì¡°

#### ğŸ“‹ ë°°ì • íƒ­ (Assignment)
ì£¼ë¬¸ ë°°ì • ê´€ë¦¬ ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ì£¼ë¬¸ ëª©ë¡ | ì „ì²´/ë¯¸ë°°ì •/ë°°ì •/í™•ì • í•„í„°ë§ |
| ì£¼ë¬¸ ìƒì„¸ | ê³ ê° ì •ë³´, ì œí’ˆ ëª©ë¡, ìƒíƒœ í™•ì¸ |
| ê¸°ì‚¬ ë°°ì • | ì„¤ì¹˜ê¸°ì‚¬ ì„ íƒ ë° ë°°ì • |
| ì¼ê´„ ë°°ì • | ì—¬ëŸ¬ ì£¼ë¬¸ ë™ì‹œ ë°°ì • |
| ë¶„í•  ì£¼ë¬¸ | ë‹¤ì¤‘ ì œí’ˆì„ ì—¬ëŸ¬ ê¸°ì‚¬ì—ê²Œ ë¶„í•  |

**ë¶„í•  ì£¼ë¬¸ ì‚¬ìš©ë²•:**
1. ì£¼ë¬¸ ìƒì„¸ â†’ "ë¶„í• " ë²„íŠ¼ í´ë¦­
2. ê° ì œí’ˆë³„ë¡œ ìˆ˜ëŸ‰ ë¶„ë°°
3. ì„¤ì¹˜ê¸°ì‚¬ ì„ íƒ
4. "ë¶„í•  ì €ì¥" í´ë¦­

#### âœ… ì™„ë£Œ íƒ­ (Completion)
ì„¤ì¹˜ ì™„ë£Œ ì²˜ë¦¬ ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ì‹œë¦¬ì–¼ ì…ë ¥ | ë°”ì½”ë“œ ìŠ¤ìº” ë˜ëŠ” ìˆ˜ë™ ì…ë ¥ |
| íê°€ì „ íšŒìˆ˜ | P01-P21 íê°€ì „ ì½”ë“œ ê¸°ë¡ |
| ì‚¬ì§„ ì²¨ë¶€ | ì„¤ì¹˜ ì™„ë£Œ ì‚¬ì§„ ì´¬ì˜ |
| í™•ì¸ì„œ ë°œí–‰ | ê³ ê°/ê¸°ì‚¬ ì„œëª… ë° PDF ìƒì„± |

**ì™„ë£Œ ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš°:**
1. ì‹œë¦¬ì–¼ ë²ˆí˜¸ ì…ë ¥ (í•„ìˆ˜)
2. íê°€ì „ íšŒìˆ˜ ì •ë³´ ì…ë ¥ (ì„ íƒ)
3. ì‚¬ì§„ ì²¨ë¶€ (ì„ íƒ)
4. ì„¤ì¹˜ í™•ì¸ì„œ ì„œëª…
5. "ì™„ë£Œ ì²˜ë¦¬" ë²„íŠ¼ í´ë¦­

#### ğŸ“Š ëŒ€ì‹œë³´ë“œ íƒ­ (Dashboard)
ì‹¤ì‹œê°„ í˜„í™© ë° KPI

| í•­ëª© | ì„¤ëª… |
|------|------|
| ì˜¤ëŠ˜ì˜ ì£¼ë¬¸ | ê¸ˆì¼ ë°°ì •ëœ ì£¼ë¬¸ ìˆ˜ |
| ì™„ë£Œìœ¨ | ì™„ë£Œ/ì „ì²´ ë¹„ìœ¨ |
| ì§€ì—° ì£¼ë¬¸ | ì˜ˆì •ì¼ ì´ˆê³¼ ì£¼ë¬¸ |
| ìƒíƒœë³„ í˜„í™© | íŒŒì´ ì°¨íŠ¸ë¡œ ì‹œê°í™” |

#### ğŸ“ˆ ë¦¬í¬íŠ¸ íƒ­ (Reports)
ë³´ê³ ì„œ ë° í†µê³„

| ë¦¬í¬íŠ¸ | ì„¤ëª… |
|--------|------|
| ì§„í–‰ í˜„í™© | ì£¼ë¬¸ ìƒíƒœë³„ í†µê³„ |
| ê³ ê° ì´ë ¥ | ê³ ê°ë³„ ì£¼ë¬¸ íˆìŠ¤í† ë¦¬ |
| íê°€ì „ ìš”ì•½ | íšŒìˆ˜ íê°€ì „ í†µê³„ |
| ë¯¸í™˜ì… í˜„í™© | ë¯¸ë°˜ë‚© ì¥ë¹„ ì¶”ì  |
| ë°ì´í„° ë‚´ë³´ë‚´ê¸° | Excel/CSV ë‹¤ìš´ë¡œë“œ |

#### âš™ï¸ ì„¤ì • íƒ­ (Settings)
ì•± ì„¤ì • ë° ê´€ë¦¬

| ë©”ë‰´ | ì„¤ëª… |
|------|------|
| ì•Œë¦¼ ì„¼í„° | ì•Œë¦¼ ëª©ë¡ ë° ì„¤ì • |
| ì •ì‚° ê´€ë¦¬ | ì •ì‚° ë‚´ì—­ ì¡°íšŒ |
| í”„ë¡œí•„ | ì‚¬ìš©ì ì •ë³´ ìˆ˜ì • |
| ë¡œê·¸ì•„ì›ƒ | ì„¸ì…˜ ì¢…ë£Œ |

**ì•Œë¦¼ ì„¤ì •:**
- ì¬ë°°ì • ì•Œë¦¼: ì£¼ë¬¸ ì¬ë°°ì • ì‹œ ì•Œë¦¼
- ì§€ì—° ì•Œë¦¼: ì˜ˆì •ì¼ ì´ˆê³¼ ì‹œ ì•Œë¦¼
- ê³ ê° ìš”ì²­: ê³ ê° ë¬¸ì˜ ì‹œ ì•Œë¦¼

---

## 5. ì›¹ ì•± ì‚¬ìš©ë²•

### 5.1 ì ‘ì† ì •ë³´
- **URL**: http://localhost:4300
- **ê¶Œì¥ ë¸Œë¼ìš°ì €**: Chrome, Firefox, Safari

### 5.2 ì›¹ ì „ìš© ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ëŒ€ì‹œë³´ë“œ | ë„“ì€ í™”ë©´ì—ì„œ KPI í•œëˆˆì— í™•ì¸ |
| ì£¼ë¬¸ ê´€ë¦¬ | í…Œì´ë¸” í˜•íƒœë¡œ ëŒ€ëŸ‰ ì£¼ë¬¸ ê´€ë¦¬ |
| ì •ì‚° ê´€ë¦¬ | ì •ì‚° ì¡°íšŒ/ì ê¸ˆ/í•´ì œ (HQ_ADMIN) |
| ì‚¬ìš©ì ê´€ë¦¬ | ê¸°ì‚¬ ê³„ì • ê´€ë¦¬ (ê´€ë¦¬ì) |

---

## 6. API ì—”ë“œí¬ì¸íŠ¸

### 6.1 ì¸ì¦
```
POST /auth/login        - ë¡œê·¸ì¸
POST /auth/refresh      - í† í° ê°±ì‹ 
POST /auth/logout       - ë¡œê·¸ì•„ì›ƒ
```

### 6.2 ì£¼ë¬¸ ê´€ë¦¬
```
GET    /orders              - ì£¼ë¬¸ ëª©ë¡
GET    /orders/:id          - ì£¼ë¬¸ ìƒì„¸
PATCH  /orders/:id          - ì£¼ë¬¸ ìˆ˜ì •
POST   /orders/:id/split    - ì£¼ë¬¸ ë¶„í• 
POST   /orders/:id/complete - ì™„ë£Œ ì²˜ë¦¬
```

### 6.3 ì•Œë¦¼
```
GET    /notifications           - ì•Œë¦¼ ëª©ë¡
POST   /notifications/:id/read  - ì½ìŒ ì²˜ë¦¬
GET    /notifications/settings  - ì•Œë¦¼ ì„¤ì • ì¡°íšŒ
PATCH  /notifications/settings  - ì•Œë¦¼ ì„¤ì • ìˆ˜ì •
```

### 6.4 ë¦¬í¬íŠ¸
```
GET /reports/summary           - ìš”ì•½ í†µê³„
GET /reports/progress          - ì§„í–‰ í˜„í™©
GET /reports/waste-summary     - íê°€ì „ ìš”ì•½
GET /reports/unreturned-items  - ë¯¸í™˜ì… í˜„í™©
```

### 6.5 API ë¬¸ì„œ (Swagger)
```
http://localhost:3000/api/docs
```

---

## 7. ë¬¸ì œ í•´ê²°

### 7.1 ì¼ë°˜ì ì¸ ë¬¸ì œ

#### í¬íŠ¸ ì¶©ëŒ
```bash
# ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ í™•ì¸
lsof -i :3000
lsof -i :4200
lsof -i :4300

# í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
kill -9 <PID>
```

#### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨
```bash
# Docker ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
docker compose ps

# ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
docker compose restart

# ë¡œê·¸ í™•ì¸
docker compose logs postgres
```

#### ë¹Œë“œ ì˜¤ë¥˜
```bash
# node_modules ì‚­ì œ í›„ ì¬ì„¤ì¹˜
rm -rf node_modules
pnpm install

# Prisma í´ë¼ì´ì–¸íŠ¸ ì¬ìƒì„±
pnpm db:generate
```

### 7.2 ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

**Q: ë¡œê·¸ì¸ì´ ì•ˆ ë©ë‹ˆë‹¤**
- ì‹œë“œ ë°ì´í„°ê°€ ìˆëŠ”ì§€ í™•ì¸: `pnpm db:seed`
- API ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸

**Q: ì£¼ë¬¸ì´ í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤**
- API ì„œë²„ ë¡œê·¸ í™•ì¸
- ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ API ì‘ë‹µ í™•ì¸
- ë¸Œë¼ìš°ì € ì½˜ì†” ì—ëŸ¬ í™•ì¸

**Q: ì•Œë¦¼ì´ ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤**
- ì•Œë¦¼ ì„¤ì •ì—ì„œ í† ê¸€ í™•ì¸
- WebSocket ì—°ê²° ìƒíƒœ í™•ì¸

### 7.3 ë¡œê·¸ í™•ì¸
```bash
# API ì„œë²„ ë¡œê·¸
# (í„°ë¯¸ë„ì—ì„œ ì‹¤ì‹œê°„ í™•ì¸)

# Docker ë¡œê·¸
docker compose logs -f postgres
docker compose logs -f redis

# ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬
# F12 â†’ Console, Network íƒ­
```

---

## ë¶€ë¡: ë¹ ë¥¸ ì°¸ì¡°

### í¬íŠ¸ ë²ˆí˜¸
| ì„œë¹„ìŠ¤ | í¬íŠ¸ |
|--------|------|
| API Server | 3000 |
| Mobile App | 4200 |
| Web App | 4300 |
| PostgreSQL | 5432 |
| Redis | 6379 |
| Prisma Studio | 5555 |

### ëª…ë ¹ì–´ ìš”ì•½
```bash
# í™˜ê²½ ì‹œì‘
docker compose up -d
pnpm api:dev
pnpm mobile:dev
pnpm web:dev

# ë°ì´í„°ë² ì´ìŠ¤
pnpm db:generate
pnpm db:migrate
pnpm db:seed
pnpm db:studio

# ë¹Œë“œ
pnpm build
pnpm --filter mobile run build
pnpm --filter web run build

# í…ŒìŠ¤íŠ¸
pnpm test
pnpm lint
```

### í…ŒìŠ¤íŠ¸ ê³„ì •
| ì—­í•  | ì•„ì´ë”” | ë¹„ë°€ë²ˆí˜¸ |
|------|--------|----------|
| ë³¸ì‚¬ ê´€ë¦¬ì | admin | admin123! |
| ì§€ì  ê´€ë¦¬ì | manager01 | manager123! |
| ì„¤ì¹˜ê¸°ì‚¬ | installer01 | inst123! |

---

*Last Updated: 2025-12-27*
